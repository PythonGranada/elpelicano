<!DOCTYPE html>
<html lang="es">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">

    <title>Introducción a Micropython &ndash; Python Granada</title>

    <!-- Meta -->
    <meta name="description" content="Python Granada &ndash; La comunidad dedicada a Python en Granada y alrededores">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <!-- Social -->
    <meta property="article:author" content="José Miguel López" />
    <meta property="article:section" content="blog" />
    <meta property="article:published_time" content="2018-06-25" />

    <meta property="og:type" content="article"/>
    <meta property="og:title" content="Introducción a Micropython"/>
    <meta property="og:description" content="Micropython es un pequeño pero eficiente interprete de Python 3, optimizado para que pueda correr en microcontroladores, aquí dejo una introducción."/>
    <meta property="og:site_name" content="Python Granada" />
    <meta property="og:url" content="./introduccion-a-micropython.html"/>

    <meta name="twitter:card" content="summary">
    <meta name="twitter:title" content="Introducción a Micropython">
    <meta name="twitter:description" content="Micropython es un pequeño pero eficiente interprete de Python 3, optimizado para que pueda correr en microcontroladores, aquí dejo una introducción.">
    <meta name="twitter:url" content="./introduccion-a-micropython.html">

    <!-- Feed -->

    <!-- CSS -->
    <link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=Open+Sans:regular,bold">
    <link href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO" crossorigin="anonymous">
    <link rel="stylesheet" type="text/css" href="./theme/css/w3.css">
    <link rel="stylesheet" type="text/css" href="./theme/css/style.css">
    <link rel="stylesheet" type="text/css" href="./theme/css/jqcloud.css">
    <link rel="stylesheet" type="text/css" href="./theme/css/font-awesome.min.css">
    <link rel="stylesheet" type="text/css" href="./theme/css/pygments-highlight-github.css">
    

    <!-- Icon -->
    <link rel="shortcut icon" type="image/x-icon" href="./extra/favicon.ico">

    <!-- JavaScript -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.0/jquery.min.js"></script>
    <script src="./theme/js/jqcloud.min.js"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/js/bootstrap.bundle.min.js" integrity="sha384-pjaaA8dDz/5BgdFUPX6M/9SUZv4d12SUPF0axWc+VRZkx5xU3daN+lYb49+Ax+Tl" crossorigin="anonymous"></script>
  </head>

  <body>
    <div class="w3-row w3-card w3-white">
      <header id="header">

        <a href="." id="header-logo" title="Home">
            <img class="mr20" width="50px"  src="./images/logo.png" alt="logo">
        </a>
        <nav id="header-menu">
          <ul>
            <li><a href="./pages/colaboradores.html">Colaboradores</a></li>
            <li><a href="./pages/comunidad.html">Comunidad</a></li>
            <li><a href="./pages/informacion.html">Información</a></li>
          </ul>
        </nav>
      </header>
    </div>



    <br><br><br>

    <article>
      <header class="w3-container col-main">
        <h1>Introducción a Micropython</h1>
        <div class="post-info">
          <div class="w3-opacity w3-margin-right w3-margin-bottom" style="flex-grow: 1;">
            <span><time datetime="2018-06-25T23:25:00+02:00">lun 25 junio 2018</time> in <a href="./category/blog.html" title="All articles in category blog">blog</a></span>
          </div>
          <div>
            <span class="w3-tag w3-light-grey w3-text-green w3-hover-green">
              <a href="./tag/micropython.html" title="All articles with Micropython tag">#micropython</a>
            </span>
          </div>
        </div>
      </header>

      <br>


      <div class="col-main w3-container">
        <section id="content">
          <h2>¿Que es Micropython ?</h2>
<p>Micropython es un pequeño pero eficiente interprete de <a href="https://www.python.org/">Python 3</a> que incluye un subconjunto mínimo de librerías y que se encuentra optimizado para que pueda correr en microcontroladores y ambientes restringidos.</p>
<h3>Características</h3>
<ul>
<li>Cuenta con una consola interactiva.</li>
<li>Muchas librerías, que se pueden instalar usando <strong>upip</strong>.</li>
</ul>
<h3>¿Donde ejecutar Micropython?</h3>
<p>Micropython se puede instalar en la mayoría de los sistema operativos <strong>UNIX</strong>, pero lo interesante es instalarlo en alguna de los microcontroladores que lo soportan.</p>
<ul>
<li><a href="https://www.adafruit.com/product/2390">Pyboard</a></li>
<li><a href="https://www.adafruit.com/product/3184">WiPy</a></li>
<li><a href="https://www.adafruit.com/product/2821">ESP8266</a></li>
<li><a href="https://en.wikipedia.org/wiki/ESP32">ESP32</a></li>
</ul>
<p>Estos microcontroladores tienen una potencia limitada, pero con la ventaja de incorporar conexión wifi, un consumo energético bastante bajo y un precio muy bajo, (menos de 10$). Además son fácilmente flasheables con <strong>micropython</strong>.</p>
<h2>Requisitos</h2>
<p>Debes tener instalado <strong>Python</strong> y el gestor de paquetes <strong>pip</strong> y consola serie <code>sudo apt-get install minicom</code></p>
<ol>
<li>Instalar utilidades para poder flashear la tarjeta.</li>
</ol>
<div class="highlight"><pre><span></span>pip install esptool
</pre></div>


<ol>
<li>Instalar herramientas para interactuar con la placa.</li>
</ol>
<div class="highlight"><pre><span></span>pip install adafruit-ampy
</pre></div>


<h2>Instalación</h2>
<ol>
<li>Descargar última versión de micropython soportada por tu tarjeta.</li>
</ol>
<p><strong>ESP32</strong></p>
<div class="highlight"><pre><span></span>wget http://micropython.org/resources/firmware/esp32-20180412-v1.9.3-548-gd12483d9.bin
</pre></div>


<p><strong>ESP8266</strong></p>
<div class="highlight"><pre><span></span>wget http://micropython.org/resources/firmware/esp8266-20170823-v1.9.2.bin
</pre></div>


<ol>
<li>
<p>Conecta tu placa mediante conexión <strong>usb</strong> a tu ordenador.</p>
</li>
<li>
<p>Localiza la ruta del usb que acabas de conectar (en linux ejecuta lo siguiente.</p>
</li>
</ol>
<div class="highlight"><pre><span></span>ls /dev/ttyUSB*
</pre></div>


<ol>
<li>Borrar la memoria flash actual de nuestro micro</li>
</ol>
<div class="highlight"><pre><span></span>esptool.py --port /dev/ttyUSB0 erase_flash
</pre></div>


<ol>
<li>Instalar micropython.</li>
</ol>
<p><strong>ESP32</strong></p>
<div class="highlight"><pre><span></span>esptool.py --chip esp32 --port /dev/ttyUSB0 write_flash -z 0x1000 ./esp32-20180412-v1.9.3-548-gd12483d9.bin
</pre></div>


<p><strong>ESP8266</strong></p>
<div class="highlight"><pre><span></span>esptool.py --port /dev/ttyUSB0 --baud <span class="m">460800</span> write_flash --flash_size<span class="o">=</span>detect -fm dio <span class="m">0</span> ./esp8266-20170823-v1.9.2.bin
</pre></div>


<ol>
<li>Iniciar consola serie para comunicar comandos a la placa micropython.</li>
</ol>
<div class="highlight"><pre><span></span>minicom --baudrate <span class="m">115200</span> --device /dev/ttyUSB0
</pre></div>


<div class="highlight"><pre><span></span>Welcome to minicom <span class="m">2</span>.7
OPCIONES: I18n 
Compilado en Feb  <span class="m">7</span> <span class="m">2016</span>, <span class="m">13</span>:37:27.
Port /dev/ttyUSB0, <span class="m">16</span>:35:20
Presione CTRL-A Z para obtener ayuda sobre teclas especiales
print<span class="o">(</span><span class="s2">&quot;hello world&quot;</span><span class="o">)</span>
hello world
import machine
<span class="nv">led</span> <span class="o">=</span> machine.Pin<span class="o">(</span><span class="m">22</span>, machine.Pin.OUT<span class="o">)</span>
led.value<span class="o">(</span><span class="m">1</span><span class="o">)</span>
</pre></div>


<p>Como vemos ya tenemos un interprete Python.</p>
<ol>
<li>Subir código fuente, ejemplo <code>main.py</code>.</li>
</ol>
<div class="highlight"><pre><span></span><span class="k">print</span><span class="p">(</span><span class="s2">&quot;hello world&quot;</span><span class="p">)</span>
</pre></div>


<div class="highlight"><pre><span></span>ampy --port /dev/ttyUSB0 put ./main.py
</pre></div>


<div class="highlight"><pre><span></span>ampy --port /dev/ttyUSB0 ls
boot.py
main.py
</pre></div>
        </section>

        <br>

        <footer>
          
          <br>

          <!-- <p style="font-size:10pt; font-style: italic;">Did you like this article? Share it with your friends!</p>
          <div id="share" class="share">
            <a href="http://www.facebook.com/sharer.php?u=./introduccion-a-micropython.html&amp;t=Python%20Granada%3A%20Introducci%C3%B3n%20a%20Micropython" target="_blank" class="w3-btn w3-indigo">
              <i class="fa fa-facebook"></i> <span>Facebook</span>
            </a>
            <a href="http://twitter.com/share?url=./introduccion-a-micropython.html&amp;text=Python%20Granada%3A%20Introducci%C3%B3n%20a%20Micropython" target="_blank" class="w3-btn w3-blue">
              <i class="fa fa-twitter"></i> <span>Twitter</span>
            </a>
            <a href="https://plus.google.com/share?url=./introduccion-a-micropython.html" onclick="javascript:window.open(this.href, '', 'menubar=no,toolbar=no,resizable=yes,scrollbars=yes,height=600,width=600');return false;" class="w3-btn w3-red">
              <i class="fa fa-google-plus"></i> <span>Google</span>
            </a>
          </div> -->

          <br><br><br>



        </footer>
      </div>
    </article>


    <footer id="footer">
      <div id="footer-copyright" class="w3-center w3-small w3-text-grey w3-padding-48">
        <span>&copy; 2018 Python Granada </span>
      </div>
    </footer>



  </body>
</html>